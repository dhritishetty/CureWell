{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shett\\\\training-projects\\\\curewell-frontend\\\\src\\\\components\\\\login\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Form, Button, Card, Container } from \"react-bootstrap\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\n// Define validation schema using Yup\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validationSchema = Yup.object({\n  usernameOrEmail: Yup.string().min(3, \"Username or Email must be at least 3 characters\").required(\"Username or Email is required\"),\n  password: Yup.string().min(6, \"Password must be at least 6 characters\").required(\"Password is required\")\n});\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const formik = useFormik({\n    initialValues: {\n      usernameOrEmail: \"\",\n      password: \"\"\n    },\n    validationSchema,\n    onSubmit: async values => {\n      try {\n        console.log(\"Submitting values:\", values);\n        const response = await axios.post(\"http://localhost:8080/api/auth/login\", values, {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        console.log(\"Full Response:\", response);\n        console.log(\"Response Data:\", response.data); // This is the token string\n        console.log(\"Received Token:\", response.data); // Should no longer be undefined\n\n        if (response.data) {\n          // Since data itself is the token\n          localStorage.setItem(\"token\", response.data);\n          console.log(\"JWT Token Stored:\", response.data);\n          navigate(\"/viewdoc\");\n        } else {\n          alert(\"Login failed! No token received.\");\n        }\n      } catch (error) {\n        var _error$response, _error$response2, _error$response2$data;\n        console.error(\"Login Error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n        alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Login failed! Please try again.\");\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex justify-content-center align-items-center mt-5\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"400px\",\n        padding: \"20px\"\n      },\n      className: \"shadow\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-center mb-4\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: formik.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Email or Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"usernameOrEmail\",\n              value: formik.values.usernameOrEmail,\n              onChange: formik.handleChange,\n              onBlur: formik.handleBlur,\n              isInvalid: formik.touched.usernameOrEmail && !!formik.errors.usernameOrEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: formik.errors.usernameOrEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              name: \"password\",\n              value: formik.values.password,\n              onChange: formik.handleChange,\n              onBlur: formik.handleBlur,\n              isInvalid: formik.touched.password && !!formik.errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: formik.errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            type: \"submit\",\n            className: \"w-100\",\n            disabled: !formik.isValid || !formik.dirty,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3\",\n          children: [\"Return Home? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Click Here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"bpSrOvH8nJQ9VaMidkvMycx/GW8=\", false, function () {\n  return [useNavigate, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Form","Button","Card","Container","useFormik","Yup","Link","useNavigate","axios","jsxDEV","_jsxDEV","validationSchema","object","usernameOrEmail","string","min","required","password","Login","_s","navigate","formik","initialValues","onSubmit","values","console","log","response","post","headers","data","localStorage","setItem","alert","error","_error$response","_error$response2","_error$response2$data","message","className","children","style","width","padding","Body","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","Group","Label","Control","type","name","value","onChange","handleChange","onBlur","handleBlur","isInvalid","touched","errors","Feedback","variant","disabled","isValid","dirty","to","_c","$RefreshReg$"],"sources":["C:/Users/shett/training-projects/curewell-frontend/src/components/login/index.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Form, Button, Card, Container } from \"react-bootstrap\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n// Define validation schema using Yup\r\nconst validationSchema = Yup.object({\r\n  usernameOrEmail: Yup.string()\r\n    .min(3, \"Username or Email must be at least 3 characters\")\r\n    .required(\"Username or Email is required\"),\r\n  password: Yup.string()\r\n    .min(6, \"Password must be at least 6 characters\")\r\n    .required(\"Password is required\"),\r\n});\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const formik = useFormik({\r\n    initialValues: { usernameOrEmail: \"\", password: \"\" },\r\n    validationSchema,\r\n    onSubmit: async (values) => {\r\n      try {\r\n        console.log(\"Submitting values:\", values);\r\n\r\n        const response = await axios.post(\r\n          \"http://localhost:8080/api/auth/login\",\r\n          values,\r\n          { headers: { \"Content-Type\": \"application/json\" } }\r\n        );\r\n\r\n        console.log(\"Full Response:\", response);\r\n        console.log(\"Response Data:\", response.data); // This is the token string\r\n        console.log(\"Received Token:\", response.data); // Should no longer be undefined\r\n\r\n        if (response.data) { // Since data itself is the token\r\n          localStorage.setItem(\"token\", response.data);\r\n          console.log(\"JWT Token Stored:\", response.data);\r\n          navigate(\"/viewdoc\");\r\n        } else {\r\n          alert(\"Login failed! No token received.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Login Error:\", error.response?.data || error.message);\r\n        alert(error.response?.data?.message || \"Login failed! Please try again.\");\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Container className=\"d-flex justify-content-center align-items-center mt-5\">\r\n      <Card style={{ width: \"400px\", padding: \"20px\" }} className=\"shadow\">\r\n        <Card.Body>\r\n          <h3 className=\"text-center mb-4\">Login</h3>\r\n          <Form onSubmit={formik.handleSubmit}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Email or Username</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"usernameOrEmail\"\r\n                value={formik.values.usernameOrEmail}\r\n                onChange={formik.handleChange}\r\n                onBlur={formik.handleBlur}\r\n                isInvalid={formik.touched.usernameOrEmail && !!formik.errors.usernameOrEmail}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {formik.errors.usernameOrEmail}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={formik.values.password}\r\n                onChange={formik.handleChange}\r\n                onBlur={formik.handleBlur}\r\n                isInvalid={formik.touched.password && !!formik.errors.password}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                {formik.errors.password}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Button\r\n              variant=\"success\"\r\n              type=\"submit\"\r\n              className=\"w-100\"\r\n              disabled={!formik.isValid || !formik.dirty}\r\n            >\r\n              Login\r\n            </Button>\r\n          </Form>\r\n          <p className=\"mt-3\">\r\n            Return Home? <Link to=\"/\">Click Here</Link>\r\n          </p>\r\n        </Card.Body>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}